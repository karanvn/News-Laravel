var KTUser=function(){var e=function(e,o,s=!1){$(e).submit(function(){return KTApp.block("body",{overlayColor:"#000000",state:"success",message:$("#message_loading").val()}),$.ajax(o,{method:"POST",data:new FormData(this),dataType:"JSON",contentType:!1,cache:!1,processData:!1,success:function(e){if($(".text-error").text(" "),KTApp.unblock("body"),e.success)s&&$("#modalAddShipping").modal("hide"),e.flag?location.reload():window.location.href=e.route,toastr.success(e.toastr);else for(var o in toastr.error(e.toastr),e.errors)$("."+o+"-error").text(e.errors[o][0])}}).always(function(){}),!1})};return{init:function(){var o,s;new KTOffcanvas("kt_profile_aside",{overlay:!0,baseClass:"offcanvas-mobile",toggleBy:"kt_subheader_mobile_toggle"}),new KTImageInput("kt_profile_avatar"),e("#frmAddAdmin",base_url_admin+"/user/add",!1),e("#frmAddCustomer",base_url_admin+"/customer/add",!1),e("#frmAddCustomerShipping",base_url_admin+"/customer/add/shipping",!0),e("#frmRuleAdmin",base_url_admin+"/user/rule",!1),$("#change_user_shipping").change(function(){var e=$(this).val();KTApp.block("body",{overlayColor:"#000000",state:"success",opacity:.1,message:$("#message_loading").val()}),$.ajax(base_url_admin+"/customer/shipping/form/"+e,{method:"GET",success:function(e){$.getScript("js/pages/location.js",function(){}),e.flag&&($("#modalAddShipping .modal-body").html(e.html),$("#modalAddShipping").modal("show")),KTApp.unblock("body")}})}),o="#pieCustomerOrder",void 0!==(s=$("#customer_id").val())&&$.ajax(base_url_admin+"/customer/order/"+s,{method:"GET",success:function(e){if(e.success){const a=o;var s={series:e.series,chart:{width:450,type:"pie"},labels:e.labels,responsive:[{breakpoint:450,options:{chart:{width:200},legend:{position:"bottom"}}}],colors:e.colors};new ApexCharts(document.querySelector(a),s).render()}}})}}}();KTUtil.ready(function(){KTUser.init()});