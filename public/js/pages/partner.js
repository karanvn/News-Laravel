"use strict";var KTPartner={init:function(){$("#full_description").length>0&&CKEDITOR.replace("full_description",{filebrowserBrowseUrl:"filemanager/dialog.php?type=2&editor=ckeditor&fldr=",filebrowserImageBrowseUrl:"filemanager/dialog.php?type=1&editor=ckeditor&fldr=",disallowedContent:"img{width,height}[width, height];"}),$("#frmAddPartner").submit(function(){if(KTApp.block("body",{overlayColor:"#000000",state:"success",message:$("#message_loading").val()}),$("#full_description").length>0){var e=CKEDITOR.instances.full_description;$("#full_description").text(e.getData())}return $.ajax("/partner/add",{method:"POST",data:new FormData(this),dataType:"JSON",contentType:!1,cache:!1,processData:!1,success:function(e){if(console.log(e),$(".text-error").text(" "),e.success)toastr.success(e.toastr),location.reload();else{for(var t in toastr.error(e.toastr),e.errors)$("."+t+"-error").text(e.errors[t][0]);KTApp.unblock("body")}}}).always(function(){}),!1}),$("#op_partner").select2({placeholder:"---Chọn nhà cung cấp---",allowClear:!0,ajax:{url:"/partner/select",global:!1,type:"GET",data:function(e){return{term:$.trim(e.term),page:e.page||1}},processResults:function(e){if(e.success)return{results:$.map(e.results,function(e){return{text:e.name,id:e.id}})}},cache:!0}})}};KTUtil.ready(function(){KTPartner.init()});